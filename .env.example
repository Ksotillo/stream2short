# Stream2Short Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# API Configuration
# =============================================================================
API_PORT=3000
BASE_URL=http://localhost:3000

# StreamElements shared secret (used to validate !clip requests)
# Generate a random string: openssl rand -hex 32
SE_SHARED_SECRET=your_shared_secret_here

# =============================================================================
# Twitch OAuth
# =============================================================================
# Get these from https://dev.twitch.tv/console/apps
TWITCH_CLIENT_ID=your_twitch_client_id
TWITCH_CLIENT_SECRET=your_twitch_client_secret
TWITCH_REDIRECT_URI=${BASE_URL}/auth/twitch/callback

# =============================================================================
# Supabase
# =============================================================================
# Get these from your Supabase project settings -> API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Optional: For future dashboard authentication
# SUPABASE_ANON_KEY=your_anon_key

# =============================================================================
# Redis
# =============================================================================
# Default works with docker-compose; change for external Redis
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Google Drive Storage
# =============================================================================
# Option 1: Use a service account JSON file (recommended for Docker)
# 1. Go to Google Cloud Console -> APIs & Services -> Credentials
# 2. Create a Service Account
# 3. Download the JSON key file
# 4. Save it as ./credentials/service-account.json
# 5. Share your target Google Drive folder with the service account email
GOOGLE_SERVICE_ACCOUNT_FILE=./credentials/service-account.json

# Option 2: Paste the entire JSON as a string (for environments without file access)
# GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"..."}

# Optional: Root folder ID in Google Drive where clips will be stored
# If empty, files go to the service account's root (which only you can see)
# To use a shared folder:
# 1. Create a folder in your Google Drive
# 2. Share it with the service account email (give Editor access)
# 3. Copy the folder ID from the URL: https://drive.google.com/drive/folders/THIS_IS_THE_ID
GOOGLE_DRIVE_FOLDER_ID=

# =============================================================================
# Worker Configuration
# =============================================================================
# Whisper model: tiny, base, small, medium, large
# smaller = faster but less accurate
# larger = slower but more accurate
WHISPER_MODEL=small

# Maximum retry attempts for failed jobs
MAX_ATTEMPTS=2

# Clean up temporary files after processing (set to true for production)
CLEANUP_TEMP=false
